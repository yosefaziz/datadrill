id: sql-median-percentile
name: "Median & Percentiles"
tagline: "Calculate median, P95 & percentile distributions"
interviewer_says: "find the median salary, P95 latency"
you_need: "PERCENTILE_CONT, NTILE, manual median calc"
description: "Median is deceptively tricky in SQL. Learn multiple approaches from PERCENTILE_CONT to the classic ROW_NUMBER method."
icon: "percent"
category: "Advanced"
order: 2
prerequisites: [sql-window-ranking]

levels:
  - level: 1
    title: "Simple Median"
    description: "PERCENTILE_CONT approach"
    concepts: ["PERCENTILE_CONT", "median", "WITHIN GROUP"]
    questions:
      - median-percentile-cont
    unlock: always_unlocked

  - level: 2
    title: "ROW_NUMBER Median"
    description: "Manual median calculation"
    concepts: ["ROW_NUMBER", "COUNT", "manual median"]
    questions:
      - median-rownumber-odd
      - median-rownumber-even
    unlock: complete_previous

  - level: 3
    title: "Percentile Buckets"
    description: "P50/P90/P99 distributions"
    concepts: ["NTILE", "percentile buckets", "P50", "P90", "P99"]
    questions:
      - median-percentile-buckets
    unlock: complete_previous
