id: debug-subquery-bugs
name: "Subquery Correlation Bugs"
tagline: "Fix wrong correlations & subquery scope errors"
interviewer_says: "subquery returns wrong rows, correlated subquery too slow"
you_need: "Correlated vs uncorrelated subqueries, scope rules"
description: "Subquery bugs often come from wrong correlation  - referencing the wrong table or using the wrong scope."
icon: "link"
category: "Aggregation & Logic Bugs"
order: 6
prerequisites: []

levels:
  - level: 1
    title: "Wrong Correlation"
    description: "Fix subqueries that reference the wrong outer column"
    concepts: ["correlated subquery", "outer reference", "column binding"]
    questions:
      - dbg-subq-wrong-correlation
    unlock: always_unlocked

  - level: 2
    title: "Scope Errors"
    description: "Fix inner vs outer table confusion in subqueries"
    concepts: ["subquery scope", "table alias resolution", "inner vs outer"]
    questions:
      - dbg-subq-scope-inner
      - dbg-subq-scope-outer

  - level: 3
    title: "Subquery Rewrite"
    description: "Fix bugs by converting subqueries to JOINs"
    concepts: ["subquery to JOIN", "EXISTS vs IN", "performance rewrite"]
    questions:
      - dbg-subq-rewrite-join
